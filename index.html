<!DOCTYPE html>
<html>
  <head>
    <title>Animated Burger Menu</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <header>
      <button class="menu-btn">
        <span class="menu-icon"></span>
      </button>
    </header>

    <nav class="menu">
      <ul>
        <li><a href="#" class="text" >Home</a></li>
        <li><a href="#" class="text" >About</a></li>
        <li><a href="#" class="text" >Contact</a></li>
      </ul>
    </nav>

    <script>
      const body = document.body.style.fontFamily = "BasementGrotesque, sans-serif";
      // JavaScript code goes here
      const menuBtn = document.querySelector('.menu-btn');
      const menu = document.querySelector('.menu');

      let menuOpen = false;
      menuBtn.addEventListener('mouseover', () => {
        if (!menuOpen) {
          menuBtn.classList.add('is-active');
          menu.classList.add('is-active');
          menuOpen = true;
        } else {
          menuBtn.classList.remove('is-active');
          menu.classList.remove('is-active');
          menuOpen = false;
        }
      });

      menu.addEventListener('mouseleave', () => {
        menu.classList.remove('is-active')
        menuOpen = false
      })
      
      const texts = document.querySelectorAll('.text');

    function shuffleText(text) {
      const theLetters = "abcdefghijklmnopqrstuvwxyz"; //You can customize what letters it will cycle through
      const ctnt = text.innerHTML; // Your text goes here
      const speed = 7 // ms per frame
      const increment = 8; // frames per step. Must be >2
      let si = 0;
      let stri = 0;
      let block = "";
      let fixed = "";
          
      //Call self x times, whole function wrapped in setTimeout
      (function rustle (i) {
        setTimeout(() => {
          if (--i){rustle(i);}
          nextFrame(i);
          si = si + 1;
        }, speed);
      })(ctnt.length * increment + 1); 

      function nextFrame(pos) {
        for (let i = 0; i < ctnt.length - stri; i++) {
          //Random number
          const num = Math.floor(theLetters.length * Math.random());
          //Get random letter
          const letter = theLetters.charAt(num);
          block = block + letter;
        }
        if (si == (increment - 1)){
          stri++;
        }
        if (si == increment) {
          // Add a letter; 
          // every speed*10 ms
          fixed = fixed +  ctnt.charAt(stri - 1);
          si = 0;
        }
        text.innerHTML = fixed + block;
        block = "";
      }
    }

    texts.forEach((text) => {
      text.addEventListener("mouseover", () => {
        shuffleText(text);
      });
    });

    </script>
  </body>
</html>
